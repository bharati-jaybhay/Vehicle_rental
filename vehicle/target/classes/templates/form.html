<!DOCTYPE html>
<html lang="en">

<head th:replace="commons/all-head-links :: head">
</head>

<body>
<div th:replace="my-navbar :: div"></div>
<div class="container">

  <div class="w-50 mx-auto mt-5 listing-form">
    <!-- Flash message section -->
    <div class="alert alert-success w-75 mx-auto mb-3" role="alert"
         th:if="${successMessage}" th:text="${successMessage}"></div>

    <!-- Vehicle form -->
    <form class="row" th:object="${vehicle}" th:action="@{/vehicles/add}" method="post">
      <input type="hidden" th:field="*{id}"/>
      <div class="mb-4 col-12">
        <label for="title" class="form-label">Title</label>
        <input type="text" id="title" class="form-control" th:field="*{vehicleName}" placeholder="Goa, Calangute">
        <div class="text-danger" th:if="${#fields.hasErrors('vehicleName')}" th:errors="*{vehicleName}"></div>
      </div>

      <div class="mb-4 col-12">
        <label for="description" class="form-label">Description</label>
        <textarea id="description" class="form-control" th:field="*{description}"></textarea>
        <div class="text-danger" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></div>
      </div>

      <div class="mb-4 col-sm-12 col-md-6">
        <label for="price" class="form-label">Price</label>
        <input type="number" step="0.01" id="price" class="form-control" th:field="*{price}" placeholder="25000">
        <div class="text-danger" th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></div>
      </div>

      <div class="mb-4 col-sm-12 col-md-6">
        <label for="image-url" class="form-label">Image URL</label>
        <input type="text" id="image-url" class="form-control"
               th:field="*{imgUrl}" placeholder="https://tinyurl.com/3y7sm2x3">
        <div class="text-danger" th:if="${#fields.hasErrors('imgUrl')}" th:errors="*{imgUrl}"></div>
      </div>

      <!-- Optionally, add a status field for admin -->
      <div class="mb-4 col-12">
        <label for="status" class="form-label">Status</label>
        <select id="status" class="form-control" th:field="*{status}">
          <option value="" disabled selected>Select status</option>
          <option th:value="AVAILABLE">Available</option>
          <option th:value="BOOKED">Booked</option>
        </select>
        <div class="text-danger" th:if="${#fields.hasErrors('status')}" th:errors="*{status}"></div>
      </div>

      <div class="col-12 text-center">
        <button type="submit" class="btn btn-primary mt-3 save-btn">
          <i class="fa-regular fa-bookmark"></i>
          <span th:text="${btn_name} ?: 'Save'"></span>
        </button>
      </div>

    </form>
  </div>
</div>

<!-- Common JS -->
<div th:replace="commons/all-js-links :: div"></div>

</body>
</html>
